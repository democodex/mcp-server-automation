# Multi-Cloud Configuration - Google Cloud Run Example
# Complete build and deployment to Google Cloud Run

cloud:
  provider: "gcp"
  region: "REGION" # e.g., "us-central1"
  project_id: "PROJECT_ID" # e.g., "my-gcp-project"

build:
  github:
    github_url: "GITHUB_REPO_URL"
    subfolder: "SUBFOLDER_PATH" # e.g., "services/everything-server"

  push_to_registry: true

  environment_variables:
    LOG_LEVEL: "info"
    MCP_SERVER_NAME: "MCP_SERVER_NAME" # e.g., "MyMCPServer"

deploy:
  enabled: true
  service_name: "MCP_SERVER_NAME" # e.g., "my-mcp-server"
  save_config: "./mcp-gcp-config.json"
  gcp:
    allow_unauthenticated: true  # Public access
    max_instances: 20
    cpu_limit: "1000m"          # 1 CPU core
    memory_limit: "1Gi"         # 1 GB RAM
    ingress: "all"              # Accept traffic from anywhere
    # custom_domain: "mcp.example.com"  # Optional custom domain